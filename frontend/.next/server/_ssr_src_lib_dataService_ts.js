"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "_ssr_src_lib_dataService_ts";
exports.ids = ["_ssr_src_lib_dataService_ts"];
exports.modules = {

/***/ "(ssr)/./src/lib/dataService.ts":
/*!********************************!*\
  !*** ./src/lib/dataService.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   fetchCourseWarnings: () => (/* binding */ fetchCourseWarnings),\n/* harmony export */   fetchInDemandJobs: () => (/* binding */ fetchInDemandJobs),\n/* harmony export */   fetchKPIData: () => (/* binding */ fetchKPIData),\n/* harmony export */   fetchMissingSkills: () => (/* binding */ fetchMissingSkills),\n/* harmony export */   fetchMostInDemandSkills: () => (/* binding */ fetchMostInDemandSkills),\n/* harmony export */   fetchTopCourses: () => (/* binding */ fetchTopCourses),\n/* harmony export */   fetchTopMatchingCourses: () => (/* binding */ fetchTopMatchingCourses),\n/* harmony export */   fetchTopSkills: () => (/* binding */ fetchTopSkills),\n/* harmony export */   getCourseWarnings: () => (/* binding */ getCourseWarnings),\n/* harmony export */   getInDemandJobs: () => (/* binding */ getInDemandJobs),\n/* harmony export */   getMissingSkills: () => (/* binding */ getMissingSkills),\n/* harmony export */   getMostInDemandSkills: () => (/* binding */ getMostInDemandSkills),\n/* harmony export */   getTopCourses: () => (/* binding */ getTopCourses),\n/* harmony export */   getTopMatchingCourses: () => (/* binding */ getTopMatchingCourses),\n/* harmony export */   getTopSkills: () => (/* binding */ getTopSkills),\n/* harmony export */   loadMissingSkills: () => (/* binding */ loadMissingSkills)\n/* harmony export */ });\n// lib/dataService.ts\n// === TYPES ===\nconst BASE_URL = \"/api/dashboard\";\n// ---- Shared fetcher with retry + AbortSignal ----\nasync function fetchJSON(url, init, signal, retries = 3, retryDelay = 300) {\n    for(let attempt = 1; attempt <= retries; attempt++){\n        try {\n            const res = await fetch(url, {\n                ...init,\n                signal,\n                cache: \"no-store\",\n                headers: {\n                    ...init?.headers ?? {},\n                    Accept: \"application/json\"\n                }\n            });\n            if (!res.ok) {\n                const text = await res.text().catch(()=>\"\");\n                throw new Error(`GET ${url} failed: ${res.status} ${text}`);\n            }\n            return res.json();\n        } catch (error) {\n            if (error.name === \"AbortError\") throw error;\n            if (attempt === retries) throw error;\n            await new Promise((res)=>setTimeout(res, retryDelay));\n        }\n    }\n    throw new Error(`Failed to fetch ${url}`);\n}\n// === 1. Most In-Demand Skills ===\nasync function fetchMostInDemandSkills(signal) {\n    try {\n        const rawSkills = await fetchJSON(`${BASE_URL}/skills`, undefined, signal);\n        return (rawSkills ?? []).filter((s)=>s?.name && s.name.trim() !== \"\").sort((a, b)=>Number(b?.demand ?? 0) - Number(a?.demand ?? 0));\n    } catch (error) {\n        if (error.name === \"AbortError\") return [];\n        console.error(\"❌ Failed to fetch in-demand skills:\", error);\n        return [];\n    }\n}\n// === 2. Top Matching Courses ===\nasync function fetchTopMatchingCourses(signal) {\n    try {\n        const data = await fetchJSON(`${BASE_URL}/top-courses`, undefined, signal);\n        return Array.isArray(data) ? data.map((item)=>({\n                courseName: item?.courseName || \"Unknown Course\",\n                courseCode: item?.courseCode || \"N/A\",\n                matchPercentage: Number(item?.matchPercentage) || 0\n            })) : [];\n    } catch (error) {\n        if (error.name === \"AbortError\") return [];\n        console.error(\"❌ Failed to fetch top courses:\", error);\n        return [];\n    }\n}\n// === 3. In-Demand Job Titles (Top 10) ===\nasync function fetchInDemandJobs(signal) {\n    try {\n        const data = await fetchJSON(`${BASE_URL}/jobs`, undefined, signal);\n        return Array.isArray(data) ? data.filter((item)=>item?.title && String(item.title).trim() !== \"\").sort((a, b)=>Number(b?.demand ?? 0) - Number(a?.demand ?? 0)).slice(0, 10).map((item)=>({\n                title: String(item.title),\n                demand: Number(item.demand) || 0\n            })) : [];\n    } catch (error) {\n        if (error.name === \"AbortError\") return [];\n        console.error(\"❌ Failed to fetch in-demand jobs:\", error);\n        return [];\n    }\n}\n// === 4. Missing Skills ===\nasync function fetchMissingSkills(signal) {\n    try {\n        const rawSkills = await fetchJSON(`${BASE_URL}/missing-skills`, undefined, signal);\n        const unique = new Set();\n        for (const entry of rawSkills ?? []){\n            if (Array.isArray(entry)) {\n                entry.map((s)=>String(s)).forEach((s)=>unique.add(s.trim().toLowerCase()));\n            } else if (typeof entry === \"string\") {\n                entry.split(\",\").map((s)=>s.trim().toLowerCase()).filter(Boolean).forEach((s)=>unique.add(s));\n            }\n        }\n        return Array.from(unique).sort();\n    } catch (error) {\n        if (error.name === \"AbortError\") return [];\n        console.error(\"❌ Failed to fetch missing skills:\", error);\n        return [];\n    }\n}\n// === 5. Course Warnings ===\nasync function fetchCourseWarnings(signal) {\n    try {\n        const data = await fetchJSON(`${BASE_URL}/warnings`, undefined, signal);\n        return Array.isArray(data) ? data.map((item)=>({\n                courseName: item?.courseName || \"Unknown Course\",\n                courseCode: item?.courseCode || \"N/A\",\n                matchPercentage: Number(item?.matchPercentage) || 0\n            })) : [];\n    } catch (error) {\n        if (error.name === \"AbortError\") return [];\n        console.error(\"❌ Failed to fetch course warnings:\", error);\n        return [];\n    }\n}\n// === 6. KPI Data ===\nasync function fetchKPIData(signal) {\n    try {\n        const data = await fetchJSON(`${BASE_URL}/kpi`, undefined, signal);\n        return {\n            averageAlignmentScore: Number(data?.averageAlignmentScore) || 0,\n            totalSubjectsAnalyzed: Number(data?.totalSubjectsAnalyzed) || 0,\n            totalJobPostsAnalyzed: Number(data?.totalJobPostsAnalyzed) || 0,\n            skillsExtracted: Number(data?.skillsExtracted) || 0\n        };\n    } catch (error) {\n        if (error.name === \"AbortError\") {\n            return {\n                averageAlignmentScore: 0,\n                totalSubjectsAnalyzed: 0,\n                totalJobPostsAnalyzed: 0,\n                skillsExtracted: 0\n            };\n        }\n        console.error(\"❌ FastAPI KPI fetch failed:\", error);\n        return {\n            averageAlignmentScore: 0,\n            totalSubjectsAnalyzed: 0,\n            totalJobPostsAnalyzed: 0,\n            skillsExtracted: 0\n        };\n    }\n}\n// ================= Alias Exports (for container compatibility) =============\n// Skills (bar chart)\nconst getMostInDemandSkills = fetchMostInDemandSkills;\nconst getTopSkills = fetchMostInDemandSkills;\nconst fetchTopSkills = fetchMostInDemandSkills;\n// Top courses table\nconst getTopMatchingCourses = fetchTopMatchingCourses;\nconst getTopCourses = fetchTopMatchingCourses;\nconst fetchTopCourses = fetchTopMatchingCourses;\n// In-demand jobs (pie)\nconst getInDemandJobs = fetchInDemandJobs;\n// Missing skills list\nconst getMissingSkills = fetchMissingSkills;\nconst loadMissingSkills = fetchMissingSkills;\n// Course warnings\nconst getCourseWarnings = fetchCourseWarnings;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvbGliL2RhdGFTZXJ2aWNlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxxQkFBcUI7QUFFckIsZ0JBQWdCO0FBd0JoQixNQUFNQSxXQUFXO0FBRWpCLG9EQUFvRDtBQUNwRCxlQUFlQyxVQUNiQyxHQUFXLEVBQ1hDLElBQWtCLEVBQ2xCQyxNQUFvQixFQUNwQkMsVUFBVSxDQUFDLEVBQ1hDLGFBQWEsR0FBRztJQUVoQixJQUFLLElBQUlDLFVBQVUsR0FBR0EsV0FBV0YsU0FBU0UsVUFBVztRQUNuRCxJQUFJO1lBQ0YsTUFBTUMsTUFBTSxNQUFNQyxNQUFNUCxLQUFLO2dCQUMzQixHQUFHQyxJQUFJO2dCQUNQQztnQkFDQU0sT0FBTztnQkFDUEMsU0FBUztvQkFDUCxHQUFJUixNQUFNUSxXQUFXLENBQUMsQ0FBQztvQkFDdkJDLFFBQVE7Z0JBQ1Y7WUFDRjtZQUVBLElBQUksQ0FBQ0osSUFBSUssRUFBRSxFQUFFO2dCQUNYLE1BQU1DLE9BQU8sTUFBTU4sSUFBSU0sSUFBSSxHQUFHQyxLQUFLLENBQUMsSUFBTTtnQkFDMUMsTUFBTSxJQUFJQyxNQUFNLENBQUMsSUFBSSxFQUFFZCxJQUFJLFNBQVMsRUFBRU0sSUFBSVMsTUFBTSxDQUFDLENBQUMsRUFBRUgsTUFBTTtZQUM1RDtZQUNBLE9BQU9OLElBQUlVLElBQUk7UUFDakIsRUFBRSxPQUFPQyxPQUFZO1lBQ25CLElBQUlBLE1BQU1DLElBQUksS0FBSyxjQUFjLE1BQU1EO1lBQ3ZDLElBQUlaLFlBQVlGLFNBQVMsTUFBTWM7WUFDL0IsTUFBTSxJQUFJRSxRQUFRLENBQUNiLE1BQVFjLFdBQVdkLEtBQUtGO1FBQzdDO0lBQ0Y7SUFDQSxNQUFNLElBQUlVLE1BQU0sQ0FBQyxnQkFBZ0IsRUFBRWQsS0FBSztBQUMxQztBQUVBLG1DQUFtQztBQUM1QixlQUFlcUIsd0JBQXdCbkIsTUFBb0I7SUFDaEUsSUFBSTtRQUNGLE1BQU1vQixZQUFZLE1BQU12QixVQUFtQixHQUFHRCxTQUFTLE9BQU8sQ0FBQyxFQUFFeUIsV0FBV3JCO1FBQzVFLE9BQU8sQ0FBQ29CLGFBQWEsRUFBRSxFQUNwQkUsTUFBTSxDQUFDLENBQUNDLElBQU1BLEdBQUdQLFFBQVFPLEVBQUVQLElBQUksQ0FBQ1EsSUFBSSxPQUFPLElBQzNDQyxJQUFJLENBQUMsQ0FBQ0MsR0FBR0MsSUFBTUMsT0FBT0QsR0FBR0UsVUFBVSxLQUFLRCxPQUFPRixHQUFHRyxVQUFVO0lBQ2pFLEVBQUUsT0FBT2QsT0FBWTtRQUNuQixJQUFJQSxNQUFNQyxJQUFJLEtBQUssY0FBYyxPQUFPLEVBQUU7UUFDMUNjLFFBQVFmLEtBQUssQ0FBQyx1Q0FBdUNBO1FBQ3JELE9BQU8sRUFBRTtJQUNYO0FBQ0Y7QUFFQSxrQ0FBa0M7QUFDM0IsZUFBZWdCLHdCQUF3Qi9CLE1BQW9CO0lBQ2hFLElBQUk7UUFDRixNQUFNZ0MsT0FBTyxNQUFNbkMsVUFBaUIsR0FBR0QsU0FBUyxZQUFZLENBQUMsRUFBRXlCLFdBQVdyQjtRQUMxRSxPQUFPaUMsTUFBTUMsT0FBTyxDQUFDRixRQUNqQkEsS0FBS0csR0FBRyxDQUFDLENBQUNDLE9BQVU7Z0JBQ2xCQyxZQUFZRCxNQUFNQyxjQUFjO2dCQUNoQ0MsWUFBWUYsTUFBTUUsY0FBYztnQkFDaENDLGlCQUFpQlgsT0FBT1EsTUFBTUcsb0JBQW9CO1lBQ3BELE1BQ0EsRUFBRTtJQUNSLEVBQUUsT0FBT3hCLE9BQVk7UUFDbkIsSUFBSUEsTUFBTUMsSUFBSSxLQUFLLGNBQWMsT0FBTyxFQUFFO1FBQzFDYyxRQUFRZixLQUFLLENBQUMsa0NBQWtDQTtRQUNoRCxPQUFPLEVBQUU7SUFDWDtBQUNGO0FBRUEsMkNBQTJDO0FBQ3BDLGVBQWV5QixrQkFBa0J4QyxNQUFvQjtJQUMxRCxJQUFJO1FBQ0YsTUFBTWdDLE9BQU8sTUFBTW5DLFVBQWlCLEdBQUdELFNBQVMsS0FBSyxDQUFDLEVBQUV5QixXQUFXckI7UUFDbkUsT0FBT2lDLE1BQU1DLE9BQU8sQ0FBQ0YsUUFDakJBLEtBQ0dWLE1BQU0sQ0FBQyxDQUFDYyxPQUFTQSxNQUFNSyxTQUFTQyxPQUFPTixLQUFLSyxLQUFLLEVBQUVqQixJQUFJLE9BQU8sSUFDOURDLElBQUksQ0FBQyxDQUFDQyxHQUFHQyxJQUFNQyxPQUFPRCxHQUFHRSxVQUFVLEtBQUtELE9BQU9GLEdBQUdHLFVBQVUsSUFDNURjLEtBQUssQ0FBQyxHQUFHLElBQ1RSLEdBQUcsQ0FBQyxDQUFDQyxPQUFVO2dCQUNkSyxPQUFPQyxPQUFPTixLQUFLSyxLQUFLO2dCQUN4QlosUUFBUUQsT0FBT1EsS0FBS1AsTUFBTSxLQUFLO1lBQ2pDLE1BQ0YsRUFBRTtJQUNSLEVBQUUsT0FBT2QsT0FBWTtRQUNuQixJQUFJQSxNQUFNQyxJQUFJLEtBQUssY0FBYyxPQUFPLEVBQUU7UUFDMUNjLFFBQVFmLEtBQUssQ0FBQyxxQ0FBcUNBO1FBQ25ELE9BQU8sRUFBRTtJQUNYO0FBQ0Y7QUFFQSw0QkFBNEI7QUFDckIsZUFBZTZCLG1CQUFtQjVDLE1BQW9CO0lBQzNELElBQUk7UUFDRixNQUFNb0IsWUFBWSxNQUFNdkIsVUFDdEIsR0FBR0QsU0FBUyxlQUFlLENBQUMsRUFDNUJ5QixXQUNBckI7UUFFRixNQUFNNkMsU0FBUyxJQUFJQztRQUNuQixLQUFLLE1BQU1DLFNBQVMzQixhQUFhLEVBQUUsQ0FBRTtZQUNuQyxJQUFJYSxNQUFNQyxPQUFPLENBQUNhLFFBQVE7Z0JBQ3hCQSxNQUFNWixHQUFHLENBQUMsQ0FBQ1osSUFBTW1CLE9BQU9uQixJQUFJeUIsT0FBTyxDQUFDLENBQUN6QixJQUFNc0IsT0FBT0ksR0FBRyxDQUFDMUIsRUFBRUMsSUFBSSxHQUFHMEIsV0FBVztZQUM1RSxPQUFPLElBQUksT0FBT0gsVUFBVSxVQUFVO2dCQUNwQ0EsTUFDR0ksS0FBSyxDQUFDLEtBQ05oQixHQUFHLENBQUMsQ0FBQ1osSUFBTUEsRUFBRUMsSUFBSSxHQUFHMEIsV0FBVyxJQUMvQjVCLE1BQU0sQ0FBQzhCLFNBQ1BKLE9BQU8sQ0FBQyxDQUFDekIsSUFBTXNCLE9BQU9JLEdBQUcsQ0FBQzFCO1lBQy9CO1FBQ0Y7UUFDQSxPQUFPVSxNQUFNb0IsSUFBSSxDQUFDUixRQUFRcEIsSUFBSTtJQUNoQyxFQUFFLE9BQU9WLE9BQVk7UUFDbkIsSUFBSUEsTUFBTUMsSUFBSSxLQUFLLGNBQWMsT0FBTyxFQUFFO1FBQzFDYyxRQUFRZixLQUFLLENBQUMscUNBQXFDQTtRQUNuRCxPQUFPLEVBQUU7SUFDWDtBQUNGO0FBRUEsNkJBQTZCO0FBQ3RCLGVBQWV1QyxvQkFBb0J0RCxNQUFvQjtJQUM1RCxJQUFJO1FBQ0YsTUFBTWdDLE9BQU8sTUFBTW5DLFVBQWlCLEdBQUdELFNBQVMsU0FBUyxDQUFDLEVBQUV5QixXQUFXckI7UUFDdkUsT0FBT2lDLE1BQU1DLE9BQU8sQ0FBQ0YsUUFDakJBLEtBQUtHLEdBQUcsQ0FBQyxDQUFDQyxPQUFVO2dCQUNsQkMsWUFBWUQsTUFBTUMsY0FBYztnQkFDaENDLFlBQVlGLE1BQU1FLGNBQWM7Z0JBQ2hDQyxpQkFBaUJYLE9BQU9RLE1BQU1HLG9CQUFvQjtZQUNwRCxNQUNBLEVBQUU7SUFDUixFQUFFLE9BQU94QixPQUFZO1FBQ25CLElBQUlBLE1BQU1DLElBQUksS0FBSyxjQUFjLE9BQU8sRUFBRTtRQUMxQ2MsUUFBUWYsS0FBSyxDQUFDLHNDQUFzQ0E7UUFDcEQsT0FBTyxFQUFFO0lBQ1g7QUFDRjtBQUVBLHNCQUFzQjtBQUNmLGVBQWV3QyxhQUFhdkQsTUFBb0I7SUFDckQsSUFBSTtRQUNGLE1BQU1nQyxPQUFPLE1BQU1uQyxVQUFlLEdBQUdELFNBQVMsSUFBSSxDQUFDLEVBQUV5QixXQUFXckI7UUFDaEUsT0FBTztZQUNMd0QsdUJBQXVCNUIsT0FBT0ksTUFBTXdCLDBCQUEwQjtZQUM5REMsdUJBQXVCN0IsT0FBT0ksTUFBTXlCLDBCQUEwQjtZQUM5REMsdUJBQXVCOUIsT0FBT0ksTUFBTTBCLDBCQUEwQjtZQUM5REMsaUJBQWlCL0IsT0FBT0ksTUFBTTJCLG9CQUFvQjtRQUNwRDtJQUNGLEVBQUUsT0FBTzVDLE9BQVk7UUFDbkIsSUFBSUEsTUFBTUMsSUFBSSxLQUFLLGNBQWM7WUFDL0IsT0FBTztnQkFDTHdDLHVCQUF1QjtnQkFDdkJDLHVCQUF1QjtnQkFDdkJDLHVCQUF1QjtnQkFDdkJDLGlCQUFpQjtZQUNuQjtRQUNGO1FBQ0E3QixRQUFRZixLQUFLLENBQUMsK0JBQStCQTtRQUM3QyxPQUFPO1lBQ0x5Qyx1QkFBdUI7WUFDdkJDLHVCQUF1QjtZQUN2QkMsdUJBQXVCO1lBQ3ZCQyxpQkFBaUI7UUFDbkI7SUFDRjtBQUNGO0FBRUEsOEVBQThFO0FBRTlFLHFCQUFxQjtBQUNkLE1BQU1DLHdCQUF3QnpDLHdCQUF3QjtBQUN0RCxNQUFNMEMsZUFBZTFDLHdCQUF3QjtBQUM3QyxNQUFNMkMsaUJBQWlCM0Msd0JBQXdCO0FBRXRELG9CQUFvQjtBQUNiLE1BQU00Qyx3QkFBd0JoQyx3QkFBd0I7QUFDdEQsTUFBTWlDLGdCQUFnQmpDLHdCQUF3QjtBQUM5QyxNQUFNa0Msa0JBQWtCbEMsd0JBQXdCO0FBRXZELHVCQUF1QjtBQUNoQixNQUFNbUMsa0JBQWtCMUIsa0JBQWtCO0FBRWpELHNCQUFzQjtBQUNmLE1BQU0yQixtQkFBbUJ2QixtQkFBbUI7QUFDNUMsTUFBTXdCLG9CQUFvQnhCLG1CQUFtQjtBQUVwRCxrQkFBa0I7QUFDWCxNQUFNeUIsb0JBQW9CZixvQkFBb0IiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcVklDVFVTXFxjdXJyaWNhbGlnbi10aGVzaXNcXGZyb250ZW5kXFxzcmNcXGxpYlxcZGF0YVNlcnZpY2UudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gbGliL2RhdGFTZXJ2aWNlLnRzXHJcblxyXG4vLyA9PT0gVFlQRVMgPT09XHJcbmV4cG9ydCBpbnRlcmZhY2UgU2tpbGwge1xyXG4gIG5hbWU6IHN0cmluZztcclxuICBkZW1hbmQ6IG51bWJlcjtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBDb3Vyc2Uge1xyXG4gIGNvdXJzZU5hbWU6IHN0cmluZztcclxuICBjb3Vyc2VDb2RlOiBzdHJpbmc7XHJcbiAgbWF0Y2hQZXJjZW50YWdlOiBudW1iZXI7XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSm9iIHtcclxuICB0aXRsZTogc3RyaW5nO1xyXG4gIGRlbWFuZDogbnVtYmVyO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEtQSURhdGEge1xyXG4gIGF2ZXJhZ2VBbGlnbm1lbnRTY29yZTogbnVtYmVyO1xyXG4gIHRvdGFsU3ViamVjdHNBbmFseXplZDogbnVtYmVyO1xyXG4gIHRvdGFsSm9iUG9zdHNBbmFseXplZDogbnVtYmVyO1xyXG4gIHNraWxsc0V4dHJhY3RlZDogbnVtYmVyO1xyXG59XHJcblxyXG5jb25zdCBCQVNFX1VSTCA9IFwiL2FwaS9kYXNoYm9hcmRcIjtcclxuXHJcbi8vIC0tLS0gU2hhcmVkIGZldGNoZXIgd2l0aCByZXRyeSArIEFib3J0U2lnbmFsIC0tLS1cclxuYXN5bmMgZnVuY3Rpb24gZmV0Y2hKU09OPFQ+KFxyXG4gIHVybDogc3RyaW5nLFxyXG4gIGluaXQ/OiBSZXF1ZXN0SW5pdCxcclxuICBzaWduYWw/OiBBYm9ydFNpZ25hbCxcclxuICByZXRyaWVzID0gMyxcclxuICByZXRyeURlbGF5ID0gMzAwXHJcbik6IFByb21pc2U8VD4ge1xyXG4gIGZvciAobGV0IGF0dGVtcHQgPSAxOyBhdHRlbXB0IDw9IHJldHJpZXM7IGF0dGVtcHQrKykge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2godXJsLCB7XHJcbiAgICAgICAgLi4uaW5pdCxcclxuICAgICAgICBzaWduYWwsXHJcbiAgICAgICAgY2FjaGU6IFwibm8tc3RvcmVcIixcclxuICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAuLi4oaW5pdD8uaGVhZGVycyA/PyB7fSksXHJcbiAgICAgICAgICBBY2NlcHQ6IFwiYXBwbGljYXRpb24vanNvblwiLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgaWYgKCFyZXMub2spIHtcclxuICAgICAgICBjb25zdCB0ZXh0ID0gYXdhaXQgcmVzLnRleHQoKS5jYXRjaCgoKSA9PiBcIlwiKTtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEdFVCAke3VybH0gZmFpbGVkOiAke3Jlcy5zdGF0dXN9ICR7dGV4dH1gKTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gcmVzLmpzb24oKSBhcyBQcm9taXNlPFQ+O1xyXG4gICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgICBpZiAoZXJyb3IubmFtZSA9PT0gXCJBYm9ydEVycm9yXCIpIHRocm93IGVycm9yO1xyXG4gICAgICBpZiAoYXR0ZW1wdCA9PT0gcmV0cmllcykgdGhyb3cgZXJyb3I7XHJcbiAgICAgIGF3YWl0IG5ldyBQcm9taXNlKChyZXMpID0+IHNldFRpbWVvdXQocmVzLCByZXRyeURlbGF5KSk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGZldGNoICR7dXJsfWApO1xyXG59XHJcblxyXG4vLyA9PT0gMS4gTW9zdCBJbi1EZW1hbmQgU2tpbGxzID09PVxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZmV0Y2hNb3N0SW5EZW1hbmRTa2lsbHMoc2lnbmFsPzogQWJvcnRTaWduYWwpOiBQcm9taXNlPFNraWxsW10+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgcmF3U2tpbGxzID0gYXdhaXQgZmV0Y2hKU09OPFNraWxsW10+KGAke0JBU0VfVVJMfS9za2lsbHNgLCB1bmRlZmluZWQsIHNpZ25hbCk7XHJcbiAgICByZXR1cm4gKHJhd1NraWxscyA/PyBbXSlcclxuICAgICAgLmZpbHRlcigocykgPT4gcz8ubmFtZSAmJiBzLm5hbWUudHJpbSgpICE9PSBcIlwiKVxyXG4gICAgICAuc29ydCgoYSwgYikgPT4gTnVtYmVyKGI/LmRlbWFuZCA/PyAwKSAtIE51bWJlcihhPy5kZW1hbmQgPz8gMCkpO1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIGlmIChlcnJvci5uYW1lID09PSBcIkFib3J0RXJyb3JcIikgcmV0dXJuIFtdO1xyXG4gICAgY29uc29sZS5lcnJvcihcIuKdjCBGYWlsZWQgdG8gZmV0Y2ggaW4tZGVtYW5kIHNraWxsczpcIiwgZXJyb3IpO1xyXG4gICAgcmV0dXJuIFtdO1xyXG4gIH1cclxufVxyXG5cclxuLy8gPT09IDIuIFRvcCBNYXRjaGluZyBDb3Vyc2VzID09PVxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZmV0Y2hUb3BNYXRjaGluZ0NvdXJzZXMoc2lnbmFsPzogQWJvcnRTaWduYWwpOiBQcm9taXNlPENvdXJzZVtdPiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBmZXRjaEpTT048YW55W10+KGAke0JBU0VfVVJMfS90b3AtY291cnNlc2AsIHVuZGVmaW5lZCwgc2lnbmFsKTtcclxuICAgIHJldHVybiBBcnJheS5pc0FycmF5KGRhdGEpXHJcbiAgICAgID8gZGF0YS5tYXAoKGl0ZW0pID0+ICh7XHJcbiAgICAgICAgICBjb3Vyc2VOYW1lOiBpdGVtPy5jb3Vyc2VOYW1lIHx8IFwiVW5rbm93biBDb3Vyc2VcIixcclxuICAgICAgICAgIGNvdXJzZUNvZGU6IGl0ZW0/LmNvdXJzZUNvZGUgfHwgXCJOL0FcIixcclxuICAgICAgICAgIG1hdGNoUGVyY2VudGFnZTogTnVtYmVyKGl0ZW0/Lm1hdGNoUGVyY2VudGFnZSkgfHwgMCxcclxuICAgICAgICB9KSlcclxuICAgICAgOiBbXTtcclxuICB9IGNhdGNoIChlcnJvcjogYW55KSB7XHJcbiAgICBpZiAoZXJyb3IubmFtZSA9PT0gXCJBYm9ydEVycm9yXCIpIHJldHVybiBbXTtcclxuICAgIGNvbnNvbGUuZXJyb3IoXCLinYwgRmFpbGVkIHRvIGZldGNoIHRvcCBjb3Vyc2VzOlwiLCBlcnJvcik7XHJcbiAgICByZXR1cm4gW107XHJcbiAgfVxyXG59XHJcblxyXG4vLyA9PT0gMy4gSW4tRGVtYW5kIEpvYiBUaXRsZXMgKFRvcCAxMCkgPT09XHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBmZXRjaEluRGVtYW5kSm9icyhzaWduYWw/OiBBYm9ydFNpZ25hbCk6IFByb21pc2U8Sm9iW10+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IGZldGNoSlNPTjxhbnlbXT4oYCR7QkFTRV9VUkx9L2pvYnNgLCB1bmRlZmluZWQsIHNpZ25hbCk7XHJcbiAgICByZXR1cm4gQXJyYXkuaXNBcnJheShkYXRhKVxyXG4gICAgICA/IGRhdGFcclxuICAgICAgICAgIC5maWx0ZXIoKGl0ZW0pID0+IGl0ZW0/LnRpdGxlICYmIFN0cmluZyhpdGVtLnRpdGxlKS50cmltKCkgIT09IFwiXCIpXHJcbiAgICAgICAgICAuc29ydCgoYSwgYikgPT4gTnVtYmVyKGI/LmRlbWFuZCA/PyAwKSAtIE51bWJlcihhPy5kZW1hbmQgPz8gMCkpXHJcbiAgICAgICAgICAuc2xpY2UoMCwgMTApXHJcbiAgICAgICAgICAubWFwKChpdGVtKSA9PiAoe1xyXG4gICAgICAgICAgICB0aXRsZTogU3RyaW5nKGl0ZW0udGl0bGUpLFxyXG4gICAgICAgICAgICBkZW1hbmQ6IE51bWJlcihpdGVtLmRlbWFuZCkgfHwgMCxcclxuICAgICAgICAgIH0pKVxyXG4gICAgICA6IFtdO1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIGlmIChlcnJvci5uYW1lID09PSBcIkFib3J0RXJyb3JcIikgcmV0dXJuIFtdO1xyXG4gICAgY29uc29sZS5lcnJvcihcIuKdjCBGYWlsZWQgdG8gZmV0Y2ggaW4tZGVtYW5kIGpvYnM6XCIsIGVycm9yKTtcclxuICAgIHJldHVybiBbXTtcclxuICB9XHJcbn1cclxuXHJcbi8vID09PSA0LiBNaXNzaW5nIFNraWxscyA9PT1cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGZldGNoTWlzc2luZ1NraWxscyhzaWduYWw/OiBBYm9ydFNpZ25hbCk6IFByb21pc2U8c3RyaW5nW10+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgcmF3U2tpbGxzID0gYXdhaXQgZmV0Y2hKU09OPChzdHJpbmcgfCBzdHJpbmdbXSlbXT4oXHJcbiAgICAgIGAke0JBU0VfVVJMfS9taXNzaW5nLXNraWxsc2AsXHJcbiAgICAgIHVuZGVmaW5lZCxcclxuICAgICAgc2lnbmFsXHJcbiAgICApO1xyXG4gICAgY29uc3QgdW5pcXVlID0gbmV3IFNldDxzdHJpbmc+KCk7XHJcbiAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIHJhd1NraWxscyA/PyBbXSkge1xyXG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShlbnRyeSkpIHtcclxuICAgICAgICBlbnRyeS5tYXAoKHMpID0+IFN0cmluZyhzKSkuZm9yRWFjaCgocykgPT4gdW5pcXVlLmFkZChzLnRyaW0oKS50b0xvd2VyQ2FzZSgpKSk7XHJcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGVudHJ5ID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgZW50cnlcclxuICAgICAgICAgIC5zcGxpdChcIixcIilcclxuICAgICAgICAgIC5tYXAoKHMpID0+IHMudHJpbSgpLnRvTG93ZXJDYXNlKCkpXHJcbiAgICAgICAgICAuZmlsdGVyKEJvb2xlYW4pXHJcbiAgICAgICAgICAuZm9yRWFjaCgocykgPT4gdW5pcXVlLmFkZChzKSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBBcnJheS5mcm9tKHVuaXF1ZSkuc29ydCgpO1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIGlmIChlcnJvci5uYW1lID09PSBcIkFib3J0RXJyb3JcIikgcmV0dXJuIFtdO1xyXG4gICAgY29uc29sZS5lcnJvcihcIuKdjCBGYWlsZWQgdG8gZmV0Y2ggbWlzc2luZyBza2lsbHM6XCIsIGVycm9yKTtcclxuICAgIHJldHVybiBbXTtcclxuICB9XHJcbn1cclxuXHJcbi8vID09PSA1LiBDb3Vyc2UgV2FybmluZ3MgPT09XHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBmZXRjaENvdXJzZVdhcm5pbmdzKHNpZ25hbD86IEFib3J0U2lnbmFsKTogUHJvbWlzZTxDb3Vyc2VbXT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgZmV0Y2hKU09OPGFueVtdPihgJHtCQVNFX1VSTH0vd2FybmluZ3NgLCB1bmRlZmluZWQsIHNpZ25hbCk7XHJcbiAgICByZXR1cm4gQXJyYXkuaXNBcnJheShkYXRhKVxyXG4gICAgICA/IGRhdGEubWFwKChpdGVtKSA9PiAoe1xyXG4gICAgICAgICAgY291cnNlTmFtZTogaXRlbT8uY291cnNlTmFtZSB8fCBcIlVua25vd24gQ291cnNlXCIsXHJcbiAgICAgICAgICBjb3Vyc2VDb2RlOiBpdGVtPy5jb3Vyc2VDb2RlIHx8IFwiTi9BXCIsXHJcbiAgICAgICAgICBtYXRjaFBlcmNlbnRhZ2U6IE51bWJlcihpdGVtPy5tYXRjaFBlcmNlbnRhZ2UpIHx8IDAsXHJcbiAgICAgICAgfSkpXHJcbiAgICAgIDogW107XHJcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgaWYgKGVycm9yLm5hbWUgPT09IFwiQWJvcnRFcnJvclwiKSByZXR1cm4gW107XHJcbiAgICBjb25zb2xlLmVycm9yKFwi4p2MIEZhaWxlZCB0byBmZXRjaCBjb3Vyc2Ugd2FybmluZ3M6XCIsIGVycm9yKTtcclxuICAgIHJldHVybiBbXTtcclxuICB9XHJcbn1cclxuXHJcbi8vID09PSA2LiBLUEkgRGF0YSA9PT1cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGZldGNoS1BJRGF0YShzaWduYWw/OiBBYm9ydFNpZ25hbCk6IFByb21pc2U8S1BJRGF0YT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgZmV0Y2hKU09OPGFueT4oYCR7QkFTRV9VUkx9L2twaWAsIHVuZGVmaW5lZCwgc2lnbmFsKTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGF2ZXJhZ2VBbGlnbm1lbnRTY29yZTogTnVtYmVyKGRhdGE/LmF2ZXJhZ2VBbGlnbm1lbnRTY29yZSkgfHwgMCxcclxuICAgICAgdG90YWxTdWJqZWN0c0FuYWx5emVkOiBOdW1iZXIoZGF0YT8udG90YWxTdWJqZWN0c0FuYWx5emVkKSB8fCAwLFxyXG4gICAgICB0b3RhbEpvYlBvc3RzQW5hbHl6ZWQ6IE51bWJlcihkYXRhPy50b3RhbEpvYlBvc3RzQW5hbHl6ZWQpIHx8IDAsXHJcbiAgICAgIHNraWxsc0V4dHJhY3RlZDogTnVtYmVyKGRhdGE/LnNraWxsc0V4dHJhY3RlZCkgfHwgMCxcclxuICAgIH07XHJcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgaWYgKGVycm9yLm5hbWUgPT09IFwiQWJvcnRFcnJvclwiKSB7XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgYXZlcmFnZUFsaWdubWVudFNjb3JlOiAwLFxyXG4gICAgICAgIHRvdGFsU3ViamVjdHNBbmFseXplZDogMCxcclxuICAgICAgICB0b3RhbEpvYlBvc3RzQW5hbHl6ZWQ6IDAsXHJcbiAgICAgICAgc2tpbGxzRXh0cmFjdGVkOiAwLFxyXG4gICAgICB9O1xyXG4gICAgfVxyXG4gICAgY29uc29sZS5lcnJvcihcIuKdjCBGYXN0QVBJIEtQSSBmZXRjaCBmYWlsZWQ6XCIsIGVycm9yKTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGF2ZXJhZ2VBbGlnbm1lbnRTY29yZTogMCxcclxuICAgICAgdG90YWxTdWJqZWN0c0FuYWx5emVkOiAwLFxyXG4gICAgICB0b3RhbEpvYlBvc3RzQW5hbHl6ZWQ6IDAsXHJcbiAgICAgIHNraWxsc0V4dHJhY3RlZDogMCxcclxuICAgIH07XHJcbiAgfVxyXG59XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PSBBbGlhcyBFeHBvcnRzIChmb3IgY29udGFpbmVyIGNvbXBhdGliaWxpdHkpID09PT09PT09PT09PT1cclxuXHJcbi8vIFNraWxscyAoYmFyIGNoYXJ0KVxyXG5leHBvcnQgY29uc3QgZ2V0TW9zdEluRGVtYW5kU2tpbGxzID0gZmV0Y2hNb3N0SW5EZW1hbmRTa2lsbHM7XHJcbmV4cG9ydCBjb25zdCBnZXRUb3BTa2lsbHMgPSBmZXRjaE1vc3RJbkRlbWFuZFNraWxscztcclxuZXhwb3J0IGNvbnN0IGZldGNoVG9wU2tpbGxzID0gZmV0Y2hNb3N0SW5EZW1hbmRTa2lsbHM7XHJcblxyXG4vLyBUb3AgY291cnNlcyB0YWJsZVxyXG5leHBvcnQgY29uc3QgZ2V0VG9wTWF0Y2hpbmdDb3Vyc2VzID0gZmV0Y2hUb3BNYXRjaGluZ0NvdXJzZXM7XHJcbmV4cG9ydCBjb25zdCBnZXRUb3BDb3Vyc2VzID0gZmV0Y2hUb3BNYXRjaGluZ0NvdXJzZXM7XHJcbmV4cG9ydCBjb25zdCBmZXRjaFRvcENvdXJzZXMgPSBmZXRjaFRvcE1hdGNoaW5nQ291cnNlcztcclxuXHJcbi8vIEluLWRlbWFuZCBqb2JzIChwaWUpXHJcbmV4cG9ydCBjb25zdCBnZXRJbkRlbWFuZEpvYnMgPSBmZXRjaEluRGVtYW5kSm9icztcclxuXHJcbi8vIE1pc3Npbmcgc2tpbGxzIGxpc3RcclxuZXhwb3J0IGNvbnN0IGdldE1pc3NpbmdTa2lsbHMgPSBmZXRjaE1pc3NpbmdTa2lsbHM7XHJcbmV4cG9ydCBjb25zdCBsb2FkTWlzc2luZ1NraWxscyA9IGZldGNoTWlzc2luZ1NraWxscztcclxuXHJcbi8vIENvdXJzZSB3YXJuaW5nc1xyXG5leHBvcnQgY29uc3QgZ2V0Q291cnNlV2FybmluZ3MgPSBmZXRjaENvdXJzZVdhcm5pbmdzO1xyXG4iXSwibmFtZXMiOlsiQkFTRV9VUkwiLCJmZXRjaEpTT04iLCJ1cmwiLCJpbml0Iiwic2lnbmFsIiwicmV0cmllcyIsInJldHJ5RGVsYXkiLCJhdHRlbXB0IiwicmVzIiwiZmV0Y2giLCJjYWNoZSIsImhlYWRlcnMiLCJBY2NlcHQiLCJvayIsInRleHQiLCJjYXRjaCIsIkVycm9yIiwic3RhdHVzIiwianNvbiIsImVycm9yIiwibmFtZSIsIlByb21pc2UiLCJzZXRUaW1lb3V0IiwiZmV0Y2hNb3N0SW5EZW1hbmRTa2lsbHMiLCJyYXdTa2lsbHMiLCJ1bmRlZmluZWQiLCJmaWx0ZXIiLCJzIiwidHJpbSIsInNvcnQiLCJhIiwiYiIsIk51bWJlciIsImRlbWFuZCIsImNvbnNvbGUiLCJmZXRjaFRvcE1hdGNoaW5nQ291cnNlcyIsImRhdGEiLCJBcnJheSIsImlzQXJyYXkiLCJtYXAiLCJpdGVtIiwiY291cnNlTmFtZSIsImNvdXJzZUNvZGUiLCJtYXRjaFBlcmNlbnRhZ2UiLCJmZXRjaEluRGVtYW5kSm9icyIsInRpdGxlIiwiU3RyaW5nIiwic2xpY2UiLCJmZXRjaE1pc3NpbmdTa2lsbHMiLCJ1bmlxdWUiLCJTZXQiLCJlbnRyeSIsImZvckVhY2giLCJhZGQiLCJ0b0xvd2VyQ2FzZSIsInNwbGl0IiwiQm9vbGVhbiIsImZyb20iLCJmZXRjaENvdXJzZVdhcm5pbmdzIiwiZmV0Y2hLUElEYXRhIiwiYXZlcmFnZUFsaWdubWVudFNjb3JlIiwidG90YWxTdWJqZWN0c0FuYWx5emVkIiwidG90YWxKb2JQb3N0c0FuYWx5emVkIiwic2tpbGxzRXh0cmFjdGVkIiwiZ2V0TW9zdEluRGVtYW5kU2tpbGxzIiwiZ2V0VG9wU2tpbGxzIiwiZmV0Y2hUb3BTa2lsbHMiLCJnZXRUb3BNYXRjaGluZ0NvdXJzZXMiLCJnZXRUb3BDb3Vyc2VzIiwiZmV0Y2hUb3BDb3Vyc2VzIiwiZ2V0SW5EZW1hbmRKb2JzIiwiZ2V0TWlzc2luZ1NraWxscyIsImxvYWRNaXNzaW5nU2tpbGxzIiwiZ2V0Q291cnNlV2FybmluZ3MiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./src/lib/dataService.ts\n");

/***/ })

};
;